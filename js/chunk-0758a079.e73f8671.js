(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0758a079"],{"0018":function(t,e,a){},"0fb6":function(t,e,a){},"32a8":function(t,e,a){"use strict";var i=a("0018"),n=a.n(i);n.a},3571:function(t,e,a){},"4ea6":function(t,e,a){"use strict";var i=a("0fb6"),n=a.n(i);n.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),n=a("5899"),s="["+n+"]",r=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var i=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var s,r;return n&&"function"==typeof(s=e.constructor)&&s!==a&&i(r=s.prototype)&&r!==a.prototype&&n(t,r),t}},"9e8e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-top"},[a("div",{staticClass:"background"}),a("div",{staticClass:"panel-user-info"},[a("div",{staticClass:"logo"},[t.logo?a("img",{attrs:{src:t.logo}}):t._e()]),a("div",{staticClass:"variation-count"},[a("div",{staticClass:"variation-count__wrapper"},[t._m(0),a("div",{staticClass:"variation-count__value"},[a("div",{staticClass:"variation-count__value__denominator"},[t._v("/"+t._s(t.variationCount.all))]),a("div",{staticClass:"variation-count__value__numerator"},[t._v(t._s(t.variationCount.owned))])])])])]),a("div",{attrs:{id:"toolNav"}},[a("div",{staticClass:"panel-search"},[a("div",{staticClass:"input-wrapper"},[a("el-input",{on:{input:t.debounceInput},model:{value:t.term,callback:function(e){t.term=e},expression:"term"}}),t._m(1)],1)]),a("div",{staticClass:"panel-nav"},[a("ul",[a("li",{on:{click:function(e){return t.save()}}},[t._m(2)]),a("li",{on:{click:function(e){return t.onShareClick()}}},[t._m(3)]),t._m(4)])])])]),a("div",{staticClass:"content"},[a("el-radio-group",{staticClass:"view-mode-switcher",on:{change:t.onViewModeChange},model:{value:t.viewMode,callback:function(e){t.viewMode=e},expression:"viewMode"}},[a("el-radio-button",{attrs:{label:"list"}},[a("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}})]),a("el-radio-button",{attrs:{label:"grid"}},[a("i",{staticClass:"fa fa-th-large",attrs:{"aria-hidden":"true"}})])],1),a("book",{attrs:{viewMode:t.viewMode}})],1),a("el-dialog",{staticStyle:{"min-width":"400px"},attrs:{title:"分享碼連結",visible:t.isShareDialogVisible,width:"30%"},on:{"update:visible":function(e){t.isShareDialogVisible=e}}},[a("span",[t._v("請複製連結進行分享")]),a("div",{staticClass:"share-box",on:{click:function(e){return t.handleClipboard(t.shareUrl,e)}}},[t._v(t._s(t.shareUrl))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isShareDialogVisible=!1}}},[t._v("關閉")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleClipboard(t.shareUrl,e)}}},[t._v("複製")])],1)])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"variation-count__icon"},[a("i",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-icon"},[a("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-nav__wrapper"},[a("div",{staticClass:"panel-nav__wrapper__icon"},[a("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"panel-nav__wrapper__title"},[t._v("儲存蒐藏")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-nav__wrapper"},[a("div",{staticClass:"panel-nav__wrapper__icon"},[a("i",{staticClass:"fa fa-paper-plane-o",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"panel-nav__wrapper__title"},[t._v("分享蒐藏")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"https://forms.gle/t5AoWM6zzZYYzzeF6",target:"_blank"}},[a("li",[a("div",{staticClass:"panel-nav__wrapper"},[a("div",{staticClass:"panel-nav__wrapper__icon"},[a("i",{staticClass:"fa fa-question-circle-o",attrs:{"aria-hidden":"true"}})]),a("div",{staticClass:"panel-nav__wrapper__title"},[t._v("問題回報")])])])])}];a("a15b"),a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},["list"===t.viewMode?a("div",{key:"list",staticClass:"list-container"},[a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("div",{staticStyle:{display:"inline-block",width:"105px",color:"#325026"}},[t._v("名稱")]),a("div",{staticStyle:{display:"inline-block",width:"calc(100% - 105px)"}},[t._v("種類")])]),a("DynamicScroller",{staticClass:"scroller",attrs:{items:t.filterListDatas,"min-item-size":64,pageMode:!0},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item,n=e.index,s=e.active;return[a("DynamicScrollerItem",{staticClass:"collection",attrs:{item:i,active:s,"size-dependencies":[i.content],"data-index":n,"data-active":s,watchData:!1}},[a("div",{key:n},[a("div",{staticClass:"name"},[a("div",[t._v(t._s(i["zhName"]))]),a("div",{staticClass:"sub-name"},[t._v(t._s(i.name))])]),a("div",{staticClass:"variations"},t._l(i.variations,(function(e,i){return a("div",{key:i,staticClass:"variation",class:{"variation--isOwnd":t.status[e.idx]},on:{click:function(a){return t.toggleVariation(e.idx)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.content.image,expression:"obj.content.image"}]})])})),0)])])]}}],null,!1,496363821)})],1)]):t._e(),"grid"===t.viewMode?a("div",{key:"grid",staticClass:"grid-container"},t._l(t.filterListDatas,(function(e,i){return a("card",{key:i,attrs:{item:e,index:i,onVariationClick:t.toggleVariation,onVariationHover:t.modifyMainImage}})})),1):t._e()])],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"name"},[t._v(t._s(t.item["zhName"]))]),a("div",{staticClass:"sub-name"},[t._v(t._s(t.item.name))]),t._e(),t.item.variations.length>0?a("div",{staticClass:"variations"},t._l(t.item.variations,(function(e,i){return a("div",{key:i,staticClass:"variation-container"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.content.image,expression:"obj.content.image"}],staticClass:"variation",class:{"variation--isOwnd":t.status[e.idx]},on:{click:function(a){return t.onVariationClick(e.idx)},mouseover:function(a){return t.onVariationHover(e.content.image)}}}),t.item.variations.length>1?a("span",{staticClass:"tooltip"},[t._v(t._s(e.content.bodyColor_zh))]):t._e()])})),0):t._e()])},d=[],f=(a("a9e3"),{name:"card",props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0},onVariationClick:{type:Function,required:!0},onVariationHover:{type:Function,required:!0}},computed:{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}}},data:function(){return{mainImage:""}},mounted:function(){},methods:{}}),v=f,p=(a("f642"),a("2877")),m=Object(p["a"])(v,u,d,!1,null,"b18adcfc",null),_=m.exports,h=a("2f62"),b={name:"Book",props:{viewMode:{type:String,default:"list"}},components:{card:_},data:function(){return{isShareDialogVisible:!1,shareUrl:""}},computed:o(o({},Object(h["b"])(["filterListDatas"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}},listDatas:function(){return this.$store.state.listDatas}}),mounted:function(){},methods:{toggleVariation:function(t){var e=this.status[t];this.status[t]=e?0:1,this.$store.commit("UPDATE_STATUS",this.status)},modifyMainImage:function(t){this.mainImage=t}}},g=b,C=(a("32a8"),Object(p["a"])(g,c,l,!1,null,"ac79cbfa",null)),w=C.exports,y=a("94ac"),S=a("f71e"),O=a("cf05"),x=a.n(O),E=a("b012"),k={name:"Main",components:{book:w},data:function(){return{isShareDialogVisible:!1,shareUrl:"",logo:x.a,term:"",viewMode:"list",scrollFixHeight:400}},computed:o(o({},Object(h["b"])(["variationCount"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}}}),mounted:function(){window.addEventListener("scroll",this.scrollFix);var t=this.$route.params.hash;t?this.$store.commit("READ_STATUS",t):this.$store.commit("LOAD_STATUS")},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollFix)},methods:{scrollFix:function(t){var e=window.scrollY,a=(window.scrollX,document.getElementById("toolNav"));e>this.scrollFixHeight?a.classList.add("fix-top"):a.classList.remove("fix-top")},handleClipboard:function(t,e){Object(S["a"])(t,e)},save:function(){this.$store.commit("SAVE_STATUS",y["a"].generateHash(this.status.join(""))),this.$message({showClose:!0,message:"儲存成功，僅於此瀏覽器能夠讀取",type:"success"})},onShareClick:function(){var t=this;y["a"].generateURL(this.status.join(""),(function(e){t.isShareDialogVisible=!0,t.shareUrl=e}))},onViewModeChange:function(t){this.viewMode=t},debounceInput:Object(E["debounce"])((function(t){console.log(this.term),this.$store.commit("UPDATE_TERM",this.term)}),500)}},j=k,D=(a("4ea6"),a("a204"),Object(p["a"])(j,i,n,!1,null,"1313bcb6",null));e["default"]=D.exports},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),s=a("fc6a"),r=a("a640"),o=[].join,c=n!=Object,l=r("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a204:function(t,e,a){"use strict";var i=a("3571"),n=a.n(i);n.a},a9e3:function(t,e,a){"use strict";var i=a("83ab"),n=a("da84"),s=a("94ca"),r=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),v=a("241c").f,p=a("06cf").f,m=a("9bf2").f,_=a("58a8").trim,h="Number",b=n[h],g=b.prototype,C=c(f(g))==h,w=function(t){var e,a,i,n,s,r,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=_(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+l}for(s=l.slice(2),r=s.length,o=0;o<r;o++)if(c=s.charCodeAt(o),c<48||c>n)return NaN;return parseInt(s,i)}return+l};if(s(h,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var y,S=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof S&&(C?d((function(){g.valueOf.call(a)})):c(a)!=h)?l(new b(w(e)),a,S):w(e)},O=i?v(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;O.length>x;x++)o(b,y=O[x])&&!o(S,y)&&m(S,y,p(b,y));S.prototype=g,g.constructor=S,r(n,h,S)}},b012:function(t,e){function a(t,e,a){var i,n,s,r,o;function c(){var l=Date.now()-r;l<e&&l>=0?i=setTimeout(c,e-l):(i=null,a||(o=t.apply(s,n),s=n=null))}null==e&&(e=100);var l=function(){s=this,n=arguments,r=Date.now();var l=a&&!i;return i||(i=setTimeout(c,e)),l&&(o=t.apply(s,n),s=n=null),o};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(o=t.apply(s,n),s=n=null,clearTimeout(i),i=null)},l}a.debounce=a,t.exports=a},bdff:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.c0cdc79b.png"},dbb4:function(t,e,a){var i=a("23e7"),n=a("83ab"),s=a("56ef"),r=a("fc6a"),o=a("06cf"),c=a("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,i=r(t),n=o.f,l=s(i),u={},d=0;while(l.length>d)a=n(i,e=l[d++]),void 0!==a&&c(u,e,a);return u}})},e439:function(t,e,a){var i=a("23e7"),n=a("d039"),s=a("fc6a"),r=a("06cf").f,o=a("83ab"),c=n((function(){r(1)})),l=!o||c;i({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(s(t),e)}})},f642:function(t,e,a){"use strict";var i=a("bdff"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-0758a079.e73f8671.js.map