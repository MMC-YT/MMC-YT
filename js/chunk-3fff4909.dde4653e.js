(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fff4909"],{"0dee":function(t,a,e){},3172:function(t,a,e){"use strict";var i=e("6169"),n=e.n(i);n.a},3571:function(t,a,e){},6169:function(t,a,e){},"7d8d":function(t,a,e){},"7e1e":function(t,a,e){},"7fde":function(t,a,e){"use strict";var i=e("c7a6"),n=e.n(i);n.a},"810f":function(t,a,e){"use strict";var i=e("7d8d"),n=e.n(i);n.a},"8b62":function(t,a,e){"use strict";var i=e("7e1e"),n=e.n(i);n.a},"9e8e":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("div",{staticClass:"main-top"},[e("div",{staticClass:"background"}),e("div",{staticClass:"panel-user-info"},[t.logo?e("img",{attrs:{src:t.logo}}):t._e(),e("div",{staticClass:"variation-count",attrs:{id:"variationCount"}},[e("div",{staticClass:"variation-count__wrapper"},[t._m(0),e("div",{staticClass:"variation-count__value"},[e("div",{staticClass:"variation-count__value__denominator"},[t._v(" /"+t._s(t.variationCount.all)+" ")]),e("div",{staticClass:"variation-count__value__numerator"},[t._v(" "+t._s(t.variationCount.owned)+" ")])])])])]),e("div",{attrs:{id:"toolNav"}},[e("div",{staticClass:"panel-search"},[e("div",{staticClass:"input-wrapper"},[e("el-input",{on:{input:t.debounceInput},model:{value:t.term,callback:function(a){t.term=a},expression:"term"}}),t._m(1)],1)]),e("div",{staticClass:"panel-nav"},[e("ul",[t.shouldShowMyCollection?e("li",[e("a",{attrs:{target:"blank",href:"/"}},[e("div",{staticClass:"panel-nav__wrapper"},[t._m(2),e("div",{staticClass:"panel-nav__wrapper__title"},[t._v(" "+t._s(t.hasStoredStatus?"返回蒐藏":"建立蒐藏")+" ")])])])]):t._e(),e("li",{on:{click:function(a){return t.save()}}},[t._m(3)]),e("li",{on:{click:function(a){return t.onShareClick()}}},[t._m(4)]),t._m(5)])])])]),e("div",{staticClass:"content"},[e("div",{staticClass:"tool-head"},[e("el-select",{attrs:{placeholder:"篩選"},on:{change:t.onFilterTypeChange},model:{value:t.filterType,callback:function(a){t.filterType=a},expression:"filterType"}},[e("el-option",{key:"all",attrs:{label:"全部",value:"all"}}),e("el-option",{key:"owned",attrs:{label:"已擁有",value:"owned"}}),e("el-option",{key:"not-owned",attrs:{label:"未擁有",value:"not-owned"}})],1),e("el-radio-group",{on:{change:t.onViewModeChange},model:{value:t.viewMode,callback:function(a){t.viewMode=a},expression:"viewMode"}},[e("el-radio-button",{attrs:{label:"list"}},[e("i",{staticClass:"fa fa-list-ul",attrs:{"aria-hidden":"true"}})]),e("el-radio-button",{attrs:{label:"grid"}},[e("i",{staticClass:"fa fa-th-large",attrs:{"aria-hidden":"true"}})])],1)],1),e("book",{attrs:{viewMode:t.viewMode,filterType:t.filterType}})],1),e("el-dialog",{staticStyle:{"min-width":"400px"},attrs:{title:"分享碼連結",visible:t.isShareDialogVisible,width:"30%"},on:{"update:visible":function(a){t.isShareDialogVisible=a}}},[e("span",[t._v("請複製連結進行分享")]),e("div",{staticClass:"share-box",on:{click:function(a){return t.handleClipboard(t.shareUrl,a)}}},[t._v(" "+t._s(t.shareUrl)+" ")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.isShareDialogVisible=!1}}},[t._v("關閉")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.handleClipboard(t.shareUrl,a)}}},[t._v("複製")])],1)]),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1227876441837237","data-ad-slot":""}})],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"variation-count__icon"},[e("i",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"input-icon"},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"panel-nav__wrapper__icon"},[e("i",{staticClass:"fa fa-sticky-note-o",attrs:{"aria-hidden":"true"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"panel-nav__wrapper"},[e("div",{staticClass:"panel-nav__wrapper__icon"},[e("i",{staticClass:"fa fa-save",attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"panel-nav__wrapper__title"},[t._v("儲存蒐藏")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"panel-nav__wrapper"},[e("div",{staticClass:"panel-nav__wrapper__icon"},[e("i",{staticClass:"fa fa-paper-plane-o",attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"panel-nav__wrapper__title"},[t._v("分享蒐藏")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"https://forms.gle/t5AoWM6zzZYYzzeF6",target:"_blank"}},[e("div",{staticClass:"panel-nav__wrapper"},[e("div",{staticClass:"panel-nav__wrapper__icon"},[e("i",{staticClass:"fa fa-question-circle-o",attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"panel-nav__wrapper__title"},[t._v("問題回報")])])])])}],s=(e("a15b"),e("5530")),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"list"===t.viewMode,expression:"viewMode === 'list'"}],key:"list"},[e("lists",{attrs:{onVariationClick:t.toggleVariation}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"grid"===t.viewMode,expression:"viewMode === 'grid'"}],key:"grid"},[e("cards",{attrs:{onVariationClick:t.toggleVariation,onVariationHover:t.modifyMainImage}})],1)])},r=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"grid-container"},[t._l(t.filterListDatas,(function(a,i){return[i%100==0&&0!=i?e("div",{key:"ad-cards-"+i,staticClass:"ad-card"},[e("div",[e("InFeedAdsense",{attrs:{"data-ad-layout-key":"-fg+5n+6t-e7+r","data-ad-client":"ca-pub-1227876441837237","data-ad-slot":"ad-cards-"+i,"data-full-width-responsive":"true"}})],1)]):t._e(),e("div",{key:i,staticClass:"card"},[e("div",{staticClass:"name"},[t._v(t._s(a["zhName"]))]),e("div",{staticClass:"sub-name"},[t._v(t._s(a.name))]),t._e(),a.variations.length>0?e("div",{staticClass:"variations"},t._l(a.variations,(function(i,n){return e("div",{key:n,staticClass:"variation-container"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.content.image,expression:"obj.content.image"}],staticClass:"variation",class:{"variation--isOwnd":t.status[i.idx]},on:{click:function(a){return t.onVariationClick(i.idx)},mouseover:function(a){return t.onVariationHover(i.content.image)}}}),a.variations.length>1?e("span",{staticClass:"tooltip"},[t._v(" "+t._s(i.content.bodyColor_zh)+" ")]):t._e()])})),0):t._e()])]}))],2)},c=[],u=e("2f62"),d={name:"Cards",props:{onVariationClick:{type:Function,required:!0},onVariationHover:{type:Function,required:!0}},computed:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["filterListDatas"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}}}),data:function(){return{mainImage:""}},mounted:function(){setTimeout((function(){(adsbygoogle=window.adsbygoogle||[]).push({})}),2e3)},methods:{}},v=d,f=(e("810f"),e("2877")),h=Object(f["a"])(v,l,c,!1,null,"13dcaef2",null),p=h.exports,_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list-container"},[e("table",[t._m(0),t._l(t.filterListDatas,(function(a,i){return[i%100==0&&0!=i?e("tr",{key:"ad-lists-"+i},[e("td",{attrs:{colspan:"2"}},[e("div",{staticStyle:{height:"70px"}},[e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-1227876441837237","data-ad-slot":"ad-lists-"+i}})],1)])]):t._e(),e("tr",{key:i},[e("td",{staticClass:"name"},[e("div",[t._v(t._s(a["zhName"]))]),e("div",{staticClass:"sub-name"},[t._v(t._s(a.name))])]),e("td",{staticClass:"variations"},t._l(a.variations,(function(i,n){return e("div",{key:n,staticClass:"variation-container",on:{click:function(a){return t.onVariationClick(i.idx)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.content.image,expression:"obj.content.image"}],staticClass:"variation",class:{"variation--isOwnd":t.status[i.idx]}}),a.variations.length>1?e("span",{staticClass:"tooltip"},[t._v(" "+t._s(i.content.bodyColor_zh)+" ")]):t._e()])})),0)])]}))],2)])},m=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",[t._v("名稱")]),e("th",[t._v("種類")])])}],b={name:"Lists",props:{onVariationClick:{type:Function,required:!0}},data:function(){return{}},computed:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["filterListDatas"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}}}),mounted:function(){setTimeout((function(){(adsbygoogle=window.adsbygoogle||[]).push({})}),2e3)},methods:{}},w=b,C=(e("d9f0"),Object(f["a"])(w,_,m,!1,null,"dfbbbb02",null)),g=C.exports,y={name:"Book",props:{viewMode:{type:String,default:"list"},filterType:{type:String,default:"all"}},components:{cards:p,lists:g},data:function(){return{isShareDialogVisible:!1,shareUrl:""}},computed:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["filterListDatas"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}}}),mounted:function(){},methods:{toggleVariation:function(t){var a=this.status[t];this.status[t]=a?0:1,this.$store.commit("UPDATE_STATUS",this.status)},modifyMainImage:function(t){this.mainImage=t}}},T=y,S=(e("7fde"),e("3172"),Object(f["a"])(T,o,r,!1,null,"0ed6b6a2",null)),k=S.exports,x=e("94ac"),E=e("f71e"),$=e("cf05"),j=e.n($),A=e("b012"),D=e("b727a"),M=e.n(D),O={name:"Main",components:{book:k},data:function(){return{isShareDialogVisible:!1,shareUrl:"",logo:j.a,term:"",viewMode:"list",scrollFixHeight:400,filterType:"all",shouldShowMyCollection:"#/"!==location.hash}},computed:Object(s["a"])(Object(s["a"])({},Object(u["b"])(["variationCount"])),{},{status:{get:function(){return this.$store.state.status},set:function(t){this.$store.commit("UPDATE_STATUS",t)}},hasStoredStatus:function(){return this.$store.state.hasStoredStatus}}),watch:{$route:function(t,a){this.shouldShowMyCollection="#/"!==location.hash}},mounted:function(){window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.throttleScrollFix);var t=this.$route.params.hash;t?this.$store.commit("READ_STATUS",t):this.$store.commit("LOAD_STATUS"),this.onResize()},beforeDestroy:function(){window.removeEventListener("scroll",this.throttleScrollFix),window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){window.innerWidth<=512?variationCount.classList.add("variation-count-fix"):variationCount.classList.remove("variation-count-fix")},handleClipboard:function(t,a){Object(E["a"])(t,a)},save:function(){this.$store.commit("SAVE_STATUS",x["a"].generateHash(this.status.join(""))),this.$message({showClose:!0,message:"儲存成功，僅於此瀏覽器能夠讀取",type:"success"})},onShareClick:function(){var t=this;x["a"].generateURL(this.status.join(""),(function(a){t.isShareDialogVisible=!0,t.shareUrl=a}))},onViewModeChange:function(t){this.viewMode=t},onFilterTypeChange:function(t){this.$store.commit("UPDATE_FILTER_TYPE",t)},debounceInput:Object(A["debounce"])((function(t){console.log(this.term),this.$store.commit("UPDATE_TERM",this.term)}),500),throttleScrollFix:M()((function(){var t=window.scrollY,a=(window.scrollX,document.getElementById("toolNav")),e=document.getElementById("variationCount");t>this.scrollFixHeight?(a.classList.add("fix-top"),window.innerWidth>512&&e.classList.add("variation-count-fix")):(a.classList.remove("fix-top"),window.innerWidth>512&&e.classList.remove("variation-count-fix"))}),500)}},U=O,V=(e("8b62"),e("a204"),Object(f["a"])(U,i,n,!1,null,"a0e62192",null));a["default"]=V.exports},a15b:function(t,a,e){"use strict";var i=e("23e7"),n=e("44ad"),s=e("fc6a"),o=e("a640"),r=[].join,l=n!=Object,c=o("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},a204:function(t,a,e){"use strict";var i=e("3571"),n=e.n(i);n.a},b012:function(t,a){function e(t,a,e){var i,n,s,o,r;function l(){var c=Date.now()-o;c<a&&c>=0?i=setTimeout(l,a-c):(i=null,e||(r=t.apply(s,n),s=n=null))}null==a&&(a=100);var c=function(){s=this,n=arguments,o=Date.now();var c=e&&!i;return i||(i=setTimeout(l,a)),c&&(r=t.apply(s,n),s=n=null),r};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(r=t.apply(s,n),s=n=null,clearTimeout(i),i=null)},c}e.debounce=e,t.exports=e},b727a:function(t,a){function e(t,a){var e,i,n,s,o=0;return function(){e=this,i=arguments;var t=new Date-o;return s||(t>=a?r():s=setTimeout(r,a-t)),n};function r(){s=0,o=+new Date,n=t.apply(e,i),e=null,i=null}}t.exports=e},c7a6:function(t,a,e){},d9f0:function(t,a,e){"use strict";var i=e("0dee"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-3fff4909.dde4653e.js.map